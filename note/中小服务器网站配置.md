## 硬件配置
用途|数量|CPU|内存|硬盘|网卡|带宽|参考服务器
:--|:--|:--|:--|:--|:--|:--|:--|:--
入口服务器|2|单核或双核|DDR4 2G或以上|SATA 100G或以上|千兆网卡|10Mbps独享或以上|戴尔PowerEdge T130 塔式服务器（Xeon E3-1220 v5/8GB/1TB）
应用服务器|2|8核或以上|DDR4 8G或以上|SATA 300G或以|千兆网卡|10Mbps独享或以上|戴尔PowerEdge R630 机架式服务器（Xeon E5-2603 v4/8GB*2/300G*2）
数据存储-Mysql服务器|2|8核或以上|DDR4 8G或以上|SATA 500G或以上|千兆网卡|10Mbps独享或以上|戴尔PowerEdge R730 机架式服务器（Xeon E5-2609 v4/8GB*2/600GB）
数据存储-Redis服务器|2|8核或以上|32G或以上|SATA 300G或以上|千兆网卡|10Mbps独享或以上|

## 操作系统
CentOS release 7.x 64位

## Linux查看硬件信息
查看系统所有信息：dmidecode -q

### 系统
```
# uname -a               # 查看内核/操作系统/CPU信息
# head -n 1 /etc/issue   # 查看操作系统版本
# cat /proc/cpuinfo      # 查看CPU信息
# hostname               # 查看计算机名
# lspci -tv              # 列出所有PCI设备（yum install pciutils）
# lsusb -tv              # 列出所有USB设备
# lsmod                  # 列出加载的内核模块
# env                    # 查看环境变量
# lscpu                  # 查看CPU统计信息
Architecture:          i686            #cpu架构
CPU op-mode(s):        32-bit, 64-bit
Byte Order:            Little Endian   #小尾序
CPU(s):                4               #总共有4核
On-line CPU(s) list:   0-3
Thread(s) per core:    1               #每个cpu核，只能支持一个线程，即不支持超线程
Core(s) per socket:    4               #每个cpu，有4个核
Socket(s):             1               #总共有1一个cpu
Vendor ID:             GenuineIntel    #cpu产商 intel
CPU family:            6
Model:                 42
Stepping:              7
CPU MHz:               1600.000
BogoMIPS:              5986.12
Virtualization:        VT-x            #支持cpu虚拟化技术
L1d cache:             32K
L1i cache:             32K
L2 cache:              256K
L3 cache:              6144K
```
查看CPU型号：cat /proc/cpuinfo | grep 'model name' |uniq

查看物理cpu个数：cat /proc/cpuinfo | grep "physical id" | sort -u

查看核心数量：cat /proc/cpuinfo | grep "cpu cores" | uniq

查看线程数：cat /proc/cpuinfo | grep "processor" | uniq | wc -l

### 用户
```
# w                         # 查看活动用户
# id <用户名>                # 查看指定用户信息
# last                      # 查看用户登录日志
# cut -d: -f1 /etc/passwd   # 查看系统所有用户
# cut -d: -f1 /etc/group    # 查看系统所有组
# crontab -l                # 查看当前用户的计划任务
```

## 进程服务
```
# ps -ef                        # 查看所有进程
# top                           # 实时显示进程状态
# chkconfig --list              # 列出所有系统服务
# chkconfig --list | grep on    # 列出所有启动的系统服务
# rpm -qa                       # 查看所有安装的软件包
```

### 资源
```
# free -h                       # 查看内存使用量和交换区使用量
# df -Th                         # 查看各分区使用情况
# du -sh <目录名>                # 查看指定目录的大小
# grep MemTotal /proc/meminfo   # 查看内存总量
# grep MemFree /proc/meminfo    # 查看空闲内存量
# uptime                        # 查看系统运行时间、用户数、负载
# cat /proc/loadavg             # 查看系统负载
```
查看内存信息：cat /proc/meminfo / free -g

查看内存使用情况：top 后输入1查看每个逻辑cpu的使用情况

查看内存硬件信息：dmidecode -t memory

### 磁盘和分区
```
# mount | column -t      # 查看挂接的分区状态
# fdisk -l               # 查看所有分区
# swapon -s              # 查看所有交换分区
# hdparm -i /dev/hda     # 查看磁盘参数(仅适用于IDE设备)
# dmesg | grep IDE       # 查看启动时IDE设备检测状况
```
查看磁盘类型：cat /sys/block/sda/queue/rotational 0=SSD 1=HDD

查看磁盘大小分区：df -Th / lsblk / fdisk -l

### 网络
```
# ifconfig               # 查看所有网络接口的属性
# iptables -L            # 查看防火墙设置
# route -n               # 查看路由表
# netstat -lntp          # 查看所有监听端口
# netstat -antp          # 查看所有已经建立的连接
# netstat -s             # 查看网络统计信息
# lspci | grep Ethernet  # 查看网卡型号
```
查看网卡硬件信息：lspci | grep -i 'eth'

查看所有网络接口信息：ifconfig -a 或者：ip link show

查看某个网络接口指标：ethtool eth0
```
# ethtool eth0
Settings for eth0:
    Supported ports: [ TP MII ]
    Supported link modes:   10baseT/Half 10baseT/Full
                            100baseT/Half 100baseT/Full
                            1000baseT/Half 1000baseT/Full #支持千兆半双工，全双工模式
    Supported pause frame use: No
    Supports auto-negotiation: Yes #支持自适应模式，一般都支持
    Advertised link modes:  10baseT/Half 10baseT/Full
                            100baseT/Half 100baseT/Full
                            1000baseT/Half 1000baseT/Full
    Advertised pause frame use: Symmetric Receive-only
    Advertised auto-negotiation: Yes #默认使用自适应模式
    Link partner advertised link modes:  10baseT/Half 10baseT/Full
                                         100baseT/Half 100baseT/Full
    .....
    Speed: 100Mb/s #现在网卡的速度是100Mb,网卡使用自适应模式，所以推测路由是100Mb，导致网卡从支持千兆，变成要支持百兆
    Duplex: Full   #全双工
    .....
    Link detected: yes    #表示有网线连接，和路由是通的

```

### 主板BIOS
查看pci信息即主板所有硬件槽信息
```
lspci
00:00.0 Host bridge: Intel Corporation 2nd Generation Core Processor Family DRAM Controller (rev 09) #主板芯片
00:02.0 VGA compatible controller: Intel Corporation 2nd Generation Core Processor Family Integrated Graphics Controller (rev 09) #显卡
00:14.0 USB controller: Intel Corporation Panther Point USB xHCI Host Controller (rev 04) #usb控制器
00:16.0 Communication controller: Intel Corporation Panther Point MEI Controller #1 (rev 04)
00:1a.0 USB controller: Intel Corporation Panther Point USB Enhanced Host Controller #2 (rev 04)
00:1b.0 Audio device: Intel Corporation Panther Point High Definition Audio Controller (rev 04) #声卡
00:1c.0 PCI bridge: Intel Corporation Panther Point PCI Express Root Port 1 (rev c4) #pci 插槽
00:1c.2 PCI bridge: Intel Corporation Panther Point PCI Express Root Port 3 (rev c4)
00:1c.3 PCI bridge: Intel Corporation Panther Point PCI Express Root Port 4 (rev c4)
00:1d.0 USB controller: Intel Corporation Panther Point USB Enhanced Host Controller #1 (rev 04)
00:1f.0 ISA bridge: Intel Corporation Panther Point LPC Controller (rev 04)
00:1f.2 IDE interface: Intel Corporation Panther Point 4 port SATA Controller [IDE mode] (rev 04) #硬盘接口
00:1f.3 SMBus: Intel Corporation Panther Point SMBus Controller (rev 04)
00:1f.5 IDE interface: Intel Corporation Panther Point 2 port SATA Controller [IDE mode] (rev 04) #硬盘接口
02:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd. RTL8111/8168B PCI Express Gigabit Ethernet controller (rev 06) #网卡
03:00.0 PCI bridge: Integrated Technology Express, Inc. Device 8893 (rev 41)
```
如果要更详细的信息：lspci -v 或者 lspci -vv

如果要看设备树：lscpi -t

查看bios信息
```
# dmidecode -t bios
......
BIOS Information
    Vendor: American Megatrends Inc.
    Version: 4.6.5
    Release Date: 04/25/2012
    .......
    BIOS Revision: 4.6
......
```
